(function(l){l.execute(function(){l.when("A","jQuery").register("imageBlockLogger",function(h,a){window.ImageBlockclientLogger=function(h,i){var b=this,c={},d={"www.amazon.com":"fls-na",devo:"fls-devo.vipinteg"};b.logSingleton=function(a){c[a]=1};b.logHit=function(a){c[a]?c[a]++:c[a]=1};b.logKeyValuePair=function(a,b){c[a]=b};b.deleteKey=function(a){c[a]&&delete c[a]};b.startTimer=function(a){c[a]=+new Date};b.endTimer=function(a){c[a]&&(c[a]=+new Date-c[a])};b.upload=function(){var b=(location.protocol==
"https:"?"https://":"http://")+(d[location.host]||d.devo)+".amazon.com/1/softlines/1/OP/"+h+"?"+a.param(c)+"&_="+ +new Date;(new Image).src=b};i&&a(window).unload(function(){b.upload()})}});l.when("A","jQuery").register("imageBlockUtils",function(h,a){function l(a,b){if(a&&b.volume!=null)a.setVolume(b.volume),b.volume=null}function i(e){var b=c.colorToAsin[e];b&&b.asin&&a.ajax({url:"/gp/product/features/apparel-main-image/videos.html",data:{asin:b.asin,productGroupID:c.productGroupID,useAiryVideoPlayer:!0,
useChromelessVideoPlayer:c.useChromelessVideoPlayer,isUDP:c.isUDP},dataType:"json",timeout:4E3,success:function(a){a&&(d[e]=a,h.trigger("image-block-video-fetch-completed",e,null,!0))}})}var b={},c,d,ea,j,F,N=!1,H=a("#main-image-container"),g=null,Q=0;b.VIDEO_UNSUPPORTED_CLASS_NAME="noflash";b.flashNotInstalled=!1;b.embedAiryForChromelessPlayback=function(e,z,d,c,g,q){function K(){h.trigger("image-block-select-thumbnail",c.find("img:first"));h.trigger("image-block-first-thumbnail-selected")}return airyInstance=
Airy.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:e[0],streamingUrls:z.url,swfUrl:d.swfUrl,foresterMetadataParams:d.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=e.find("video").length>0?"HTML5":"FLASH";g.logKeyValuePair("ChromelessVideo",a)},playing:function(){e.parent().css("z-index",8)},videounsupported:function(){b.flashNotInstalled=!0;K();g.logKeyValuePair("ChromelessVideo",
"NO_FLASH_ERROR");q.addClass(b.VIDEO_UNSUPPORTED_CLASS_NAME)},error:function(){K();g.logKeyValuePair("ChromelessVideo","ERROR")},ended:function(){airyInstance.seek(0)}},cuePoints:[{values:z.durationSeconds-1,type:"position",callback:function(b,z,d){b=d.durationSeconds-d.playheadTimeSeconds;e.css("background-color","white").find(".airy-renderer-container").fadeTo(b*1E3,0.1,function(){e.parent().css({"background-color":"transparent","z-index":-1});K();a(this).show().css("opacity",1)})}}]})};b.embedAiryForChromefulPlayback=
function(e,b,d,g){var o=a.extend({},d.foresterMetadataParams);g!=null&&(o.method+="."+g);e=Airy.embed({parentElement:e[0],streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:d.swfUrl,foresterMetadataParams:o,backgroundColor:"transparent",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:d.videoAds,bindings:{screenchange:function(){c.isAUIPopoverEnabled&&a("#ivvideo_"+Q).click()}}});
l(e,d);return e};b.setCurrentVideoSelected=function(a){Q=a};b.loadMediaIntoAiryAndSetVolume=function(a,b,d){a&&a.getMediaSourceInfo()!==b.url&&(a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}),l(a,d))};b.setLandingColor=function(a){j=a};b.resizeHappened=function(){N=!0};b.getMainBlockHeight=function(){var a=H.get(0),b=0;if(typeof a!=="undefined")N?(b=a.offsetWidth/
c.holderRatio,b=b>c.holderMaxHeight?c.holderMaxHeight:b):b=a.style.height;return b};b.loadImageManually=function(e,d){a(e,d).each(function(){var e=a(this);if(!e.attr("data-a-image-already-loaded")){e.attr("data-a-image-already-loaded",!0);var d=b.loadDynamicImage(e),d=a("<img>").attr("src",d||e.data("a-image-source"));d.attr("data-a-hires",e.data("a-hires"));d.attr("data-old-hires",e.data("old-hires"));d.attr("data-a-manual-replacement",e.data("a-manual-replacement"));d.attr("data-a-dynamic-image",
JSON.stringify(e.data("a-dynamic-image")));var c="";c+=e.attr("class");var g=e.data("a-extra-classes");g&&(c+=" "+g);d.attr("class",c);d.attr("id",e.attr("id"));d.attr("style",e.attr("style"));e.replaceWith(d)}})};b.loadImageAsynchronously=function(a,b){if(!(a===null||a===void 0||typeof a!=="string")){var d=new Image;if(b!==null&&b!==void 0&&typeof b==="function")d.onload=b;d.src=a}};b.loadDynamicImage=function(b){var b=a(b),d=b.data("a-dynamic-image");if(d&&typeof d==="object"){var c=b.data("a-dynamic-image-container");
typeof c==="undefined"&&(c=b.parents(".a-dynamic-image-container"),c.length===0&&(c=b.parent()),b.data("a-dynamic-image-container",c));var g=window.devicePixelRatio?window.devicePixelRatio:1,o=c.width()*g,q=c.height()*g,h=Number.MAX_VALUE,i=Number.MAX_VALUE,j=b.attr("src")||"",S,X=o/q;a.each(d,function(a,b){var d=parseInt(b[0],10),e=parseInt(b[1],10);d-=q;e-=o;e=X>=1?e:d;Math.abs(e)<i&&e>=0&&(i=Math.abs(e),S=a);Math.abs(e)<h&&(h=Math.abs(e),j=a)});S&&(j=S);return j}};b.getVideos=function(a){if(c.useChildVideos){if(a==
j)a=c.defaultColor;d[a]||(d[a]=[],i(a));return d[a]}return c.videos};b.getBestUrlForAvailableWidth=function(b){var d=0,c;a.each(b,function(a,b){b[0]>d&&(c=a,d=b[0])});return c};b.getMaxWidthOfSlateImages=function(b){var d=0;a.each(b,function(a,b){var e=c.switchDynImgDims?parseInt(b[1],10):parseInt(b[0],10);e>d&&(d=e)});return d};b.getMaxHeightOfSlateImages=function(b){var d=0;a.each(b,function(a,b){var e=c.switchDynImgDims?parseInt(b[0],10):parseInt(b[1],10);e>d&&(d=e)});return d};b.getMaxWidthOfMainImage=
function(a){var d=H.width(),a=b.getMaxWidthOfSlateImages(a);a>0&&(d=Math.min(d,a));return d};b.getMaxHeightOfMainImage=function(a){var d=H.height(),a=b.getMaxHeightOfSlateImages(a);a>0&&(d=Math.min(d,a));return d};b.setMaxImageHeight=function(a){typeof a!=="undefined"&&(g=a)};b.getMaxDimensionsOfMainImage=function(){var a,b=c.mainImageHeightPartitions,d=c.mainImageMaxSizes;if(d&&typeof d!=="undefined"){if(c.burjImageBlock&&g&&typeof g!=="undefined")for(q=0;q<d.length;q++)if(g<d[q][1]){q>0&&(a=d[q-
1]);break}if(typeof a==="undefined"&&b&&typeof b!=="undefined"){for(var h=0,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,q=0;q<b.length;q++)o>b[q]&&(h=q+1);d.length>=h&&(a=d[h])}}return a};b.getColorFromState=function(b){if(b){var d="",g=DetailPage.StateController.getState().variation_display_labels;a.each(c.visualDimensions,function(a,h){var q=c.gIsNewTwister==1?h:g[h];b[q]&&(d+=" "+b[q])});return d&&d.substring(1)}};b.isBuyableVariation=function(a){if(!a.current_hovered_asin){var b=
a.num_variation_dimensions;return a.num_dimensions_selected!=b&&a.num_dimensions_hovered!=b}return!0};b.showUnavailableExp=function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())};b.hideUnavailableExp=function(){a("#imageBlock .unavailableExp").hide()};b.setImageCaption=function(d,g,h,i,o,q){ea&&clearTimeout(ea);ea=null;o&&(ea=setTimeout(function(){b.setImageCaption(d,g,i)},o));o=a("#image-canvas-caption #canvasCaption");if(g!=="image")o.html("");
else{var j=c.staticStrings,l="";q&&c.useIV?l=j.clickToExpand:F[d]&&F[d][h].hiRes&&c.useHoverZoom?l=c.hoverZoomIndicator&&c.useHoverZoomIpad?"<img src='"+c.staticImages.hoverZoomIcon+"'/>&nbsp;"+j.touchToZoom:c.useHoverZoomIpad?j.touchToZoom:c.hoverZoomIndicator?"<img src='"+c.staticImages.hoverZoomIcon+"'/>&nbsp;"+j.rollOverToZoom:c.useClickZoom?j.clickToZoom:j.rollOverToZoom:c.useIV&&(l=j.clickToExpand);o.html(l)}};b.getSlateImage=function(a){return c.useChildVideos&&c.colorToAsin[a].slate[0]};b.init=
function(a){b.options=c=a;F=c.colorImages;j=c.landingColor||c.defaultColor;d={};d[c.defaultColor]=c.videos;return b};typeof JSON!=="object"&&(JSON={});(function(){function a(b){return b<10?"0"+b:b}function b(a){g.lastIndex=0;return g.test(a)?'"'+a.replace(g,function(a){var b=i[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,c){var g,e,i,o,p=h,B,k=c[a];k&&typeof k==="object"&&typeof k.toJSON==="function"&&(k=k.toJSON(a));typeof l===
"function"&&(k=l.call(c,a,k));switch(typeof k){case "string":return b(k);case "number":return isFinite(k)?String(k):"null";case "boolean":case "null":return String(k);case "object":if(!k)return"null";h+=j;B=[];if(Object.prototype.toString.apply(k)==="[object Array]"){o=k.length;for(g=0;g<o;g+=1)B[g]=d(g,k)||"null";i=B.length===0?"[]":h?"[\n"+h+B.join(",\n"+h)+"\n"+p+"]":"["+B.join(",")+"]";h=p;return i}if(l&&typeof l==="object"){o=l.length;for(g=0;g<o;g+=1)typeof l[g]==="string"&&(e=l[g],(i=d(e,k))&&
B.push(b(e)+(h?": ":":")+i))}else for(e in k)Object.prototype.hasOwnProperty.call(k,e)&&(i=d(e,k))&&B.push(b(e)+(h?": ":":")+i);i=B.length===0?"{}":h?"{\n"+h+B.join(",\n"+h)+"\n"+p+"}":"{"+B.join(",")+"}";h=p;return i}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=
Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,j,i={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;if(typeof JSON.stringify!=="function")JSON.stringify=function(a,b,g){var c;j=h="";if(typeof g===
"number")for(c=0;c<g;c+=1)j+=" ";else typeof g==="string"&&(j=g);if((l=b)&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return d("",{"":a})};if(typeof JSON.parse!=="function")JSON.parse=function(a,b){function d(a,g){var c,e,h=a[g];if(h&&typeof h==="object")for(c in h)Object.prototype.hasOwnProperty.call(h,c)&&(e=d(h,c),e!==void 0?h[c]=e:delete h[c]);return b.call(a,g,h)}var g,a=String(a);c.lastIndex=0;c.test(a)&&(a=a.replace(c,function(a){return"\\u"+
("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),typeof b==="function"?d({"":g},""):g;throw new SyntaxError("JSON.parse");}})();return b});l.when("A","jQuery").register("imageMagnifier",function(h,a){function l(a){var c=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i),a={};if(c)for(var c=
c[1].split("_"),d=0;d<c.length;d++){var h=c[d].match(/^([A-Z]+)(\d+(\.\d+)?)$/);h&&(a[h[1]]=Number(h[2]))}return a}var i=window.ue;a.fn.amazonMagnifier=function(b){function c(){var a;b.useClickZoom?(a=b.offsetInClickZoom,a=[Math.min(1,Math.max(0,J[0]-(o[0]+a))/(o[2]-2*a)),Math.min(1,Math.max(0,J[1]-(o[1]+a))/(o[3]-2*a))]):a=z&&z.updatePosition();if(a&&e.detailSize){var d=[e.detailSize[0]-e.rect.width,e.detailSize[1]-e.rect.height];e.detailImage.get(0).style.left=-(a[0]*d[0])+"px";e.detailImage.get(0).style.top=
-(a[1]*d[1])+"px"}}function d(a){var b=Y?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";J=Y?[b.pageX,b.pageY]:[a.pageX,a.pageY]}function h(a){Y&&a.preventDefault();d(a);b.useClickZoom?a=[o[0],o[1],o[0]+o[2],o[1]+o[3]]:(a=z?z.offset:g.offsetParent().offset(),a=[p[0]+a.left,p[1]+a.top,p[0]+p[2]+a.left,p[1]+p[3]+a.top]);J[0]<a[0]||J[1]<a[1]||J[0]>=a[2]||J[1]>=a[3]?b.burjImageBlock?k||(k=!0,y=setTimeout(function(){F(!0)},500)):b.useClickZoom||F():(b.burjImageBlock&&k&&(k=!1,clearTimeout(y)),
c())}function j(){var d=a(b.locationElement).find("select:visible");S?X=d.hide():a("select").each(function(){a(this).blur()})}function F(b){b&&g.suppressMagnifier(!0);if(K&&(a.browser.msie&&a("#main-image-widget .holder.video").show(),X&&X.show(),e&&e.hide(),z&&(z.destroy(),z=null),K=!1,Y?(g.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),H(),b))g.one("click.magnifier touchstart.magnifier",
function(a){N(a,!0)})}function N(k,r){r&&g.suppressMagnifier(!1);if(!K&&!fa){document.body&&a(document.body).trigger("click");b.logMetrics&&(la==0&&(a.imageBlock.logger.logKeyValuePair("hoverTime",new Date-window.ue.t0),la=1),ga[W]||(a.imageBlock.logger.logHit("hoverMain"),ga[W]=1));p=[g.position().left,g.position().top,g.width(),g.height()];a.browser.msie&&a("#main-image-widget .holder.video").hide();if(W){if(a.browser.msie&&!a.isReady){a("#main-image-widget .holder.video").show();return}j();d(k);
e?e.refit().show():e=new B;b.useClickZoom||(z=z||new ca);o=e.getWindowSize();c()}K=!0;Y?(g.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",h).bind("touchend.magnifier",F),a(document).trigger("engaged.magnifier")):(g.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",h));if(r){var L=a("#zoomWindow");if(L.length>0)L.one("click.magnifier touchend.magnifier",function(){F(!0)})}L=i.count("softlinesHoverZoomOverlay:TotalCount")||
0;i.count("softlinesHoverZoomOverlay:TotalCount",L+1)}}function H(){b.useHoverZoom&&(Y?g.bind("touchstart.magnifier touchmove.magnifier",N):g.bind("mousemove.magnifier",N))}var g=this,Q={detailImageUrl:g.attr("data-old-hires"),location:"over",locationElement:g,prelaod:"ready",zIndex:50,offsetInClickZoom:50},b=a.extend(Q,b);b.adjustment=[10,0,-10,0];var e=null,z=null,J=null,p=null,o=null,q={"null":1,"":1,undefined:1},K=!1,fa=!1,W=b.detailImageUrl,S=a.browser.msie&&parseInt(a.browser.version)<=6,X,
Y=b.useHoverZoomIpad||0,la=0,ga={},na=navigator.userAgent.match(/msie|trident/i),ca=function(){function d(a){var b=Math.round(Math.min(g.width(),e.rect.width/a)),a=Math.round(Math.min(g.height(),e.rect.height/a));j.css({width:b,height:a});h=[b,a]}var c=this,h=[0,0],k=(e.detailSize&&e.detailSize[0]||5E8)/p[2],i=(e.detailSize&&e.detailSize[1]||5E8)/p[3];i>k&&(k=i);a("#magnifierLens").remove();var j=a("<div id='magnifierLens' />").css({backgroundImage:"url("+b.generalImageUrls.zoomLensBackground+")",
position:"absolute",cursor:"pointer"});c.updatePosition=function(){var a=[p[2]-h[0],p[3]-h[1]],b=a[0]<=0?0.5:Math.max(0,Math.min(1,(J[0]-h[0]/2-p[0]-c.offset.left)/a[0])),d=a[1]<=0?0.5:Math.max(0,Math.min(1,(J[1]-h[1]/2-p[1]-c.offset.top)/a[1])),g=p[0]+Math.round(b*a[0]),a=p[1]+Math.round(d*a[1]);j.get(0).style.left=g+"px";j.get(0).style.top=a+"px";return[b,d]};c.destroy=function(){j.remove()};c.offset=g.offsetParent().offset();d(k);c.updatePosition();j.appendTo(g.parent());e.detailImage[0].complete||
e.detailImage.load(function(){var a=e.detailImage.width()/p[2];d(a);c.updatePosition()})};ca.preload=function(){g.preload(b.generalImageUrls.lensBackgroundUrl)};var B=function(){function d(){var c={};if(b.location=="over")if(b.isUDP){var c=b.useClickZoom,h=b.burjImageBlock,j={left:Infinity,top:Infinity,right:-Infinity,bottom:-Infinity},l=a("#leftCol"),r=a("#centerCol"),o=a("#hover-zoom-end");h?(j.top=l.offset().top,j.bottom=l.outerHeight()+j.top,j.right=l.outerWidth()+l.offset().left):(j.top=r.offset().top,
j.bottom=r.outerHeight()+j.top,j.right=a("#rightCol").offset().left);j.left=c?0:l.offset().left+l.outerWidth();if(o&&o.offset().top>j.bottom)j.bottom=o.offset().top;c=j}else a(".productImageGrid").length>0?c=hoverZoomBound():(c.left=0,c.right=0);else b.location=="right"&&(c=g.offset(),c={left:c.left+g.outerWidth(),top:c.top,right:c.left+g.outerWidth()+400,bottom:c.top+400});if(b.minHeightElement)c.bottom=Math.max(c.bottom,c.top+a(b.minHeightElement).outerHeight());c.bottom=Math.min(c.bottom,a(window).scrollTop()+
a(window).height());c.left+=k[0];c.top+=k[1];c.right+=k[2];c.bottom+=k[3];c.width=c.right-c.left;c.height=c.bottom-c.top;if(b.isHoverZoomEnhancedShadowEnabled&&window.pageXOffset!==void 0)h=a(window).width(),c.width=h-c.left+window.pageXOffset-18,c.height-=14;i.css({left:c.left,top:c.top,width:c.width,height:c.height});e.rect=c;return e}function h(a){var d=new Image;d.src=a.attr("src");if(d.width>0&&d.height>0)e.detailSize=[d.width,d.height];else if(b.detailImageSize)e.detailSize=b.detailImageSize;
else{var a=l(d.src),g=p[2]/p[3];a.SS||a.AA?(a=a.SS||a.AA,e.detailSize=[a,a]):a.SX?e.detailSize=[a.SX,Math.round(a.SX/g)]:a.SY?e.detailSize=[Math.round(a.SY*g),a.SY]:a.SL?e.detailSize=g>=1?[a.SL,Math.round(a.SL/g)]:[Math.round(a.SL*g),a.SL]:(e.detailSize=[0,0],d.onload=function(){e.detailSize=[d.width,d.height];c()})}}var e=this,k=b.adjustment;a("#zoomWindow").remove();var j={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:b.zIndex};if(b.isHoverZoomShawdowEnabled||b.isHoverZoomEnhancedShadowEnabled)j.boxShadow=
"0 6px 8px 2px rgba(0,0,0,.25)",j.border="1px solid #949494",j.borderColor="rgb(148,148,148)";var i=a("<div id='zoomWindow' />").css(j);b.burjImageBlock&&i.fadeIn(200);b.useClickZoom&&(na?i.css("cursor",'url("'+b.zoomOutIcon+'"), auto'):(i.css("cursor","-webkit-zoom-out"),i.css("cursor","-moz-zoom-out"),i.css("cursor","zoom-out")));e.updateImage=function(b){b=a("<img id='detailImg' src='"+b+"'/>").css("position","absolute");e.detailImage&&e.detailImage.remove();i.append(b);a(document).trigger("updated.magnifier");
e.detailImage=b;h(e.detailImage)};e.refit=function(){d();h(e.detailImage);return e};b.burjImageBlock?(e.show=function(){i.fadeIn(200);return e},e.hide=function(){i.fadeOut(200);return e}):(e.show=function(){i.show();return e},e.hide=function(){i.hide();return e});e.destroy=function(){i.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,e.rect.height]};e.updateImage(W);d();i.appendTo(document.body)},k=!1,y;g.preload=function(b){for(var b=a.makeArray(b),d=b.length,
c=0;c<d;c++)if(b[c]instanceof Array)g.preload(b[c]);else if(typeof b[c]=="string"&&b[c]&&!q[b[c]])q[b[c]]=new Image,q[b[c]].src=b[c]};g.changeImage=function(d,c){K&&F();W=c;g.attr("src",d);if(a.browser.msie)g.get(0).className=g.get(0).className;g.preload(d);p=[g.position().left,g.position().top,g.width(),g.height()];c&&(b.preload=="immediately"?g.preload(c,!0):a(window).ready(function(){g.preload(c)}),e?e.updateImage(c):g.attr("data-old-hires",c))};g.destroy=function(){g.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");
a(document).unbind("mousemove.magnifier");z&&z.destroy();z=null;e&&e.destroy();e=null};g.detailImage=function(){return e.detailImage};g.suppressMagnifier=function(a){fa=a};g.isEngaged=function(){return K};g.engageMagnifier=N;g.disengageMagnifier=F;g[0].complete?H():g.one("load",H);g.preload(this.attr("src"));if(b.preload){var A=b.detailImageUrl,Q=function(){g.preload(A,!0);b.useClickZoom||ca.preload()},v=b.preload;v.constructor!=Array&&(v=[v]);for(var M=0;M<v.length;M++)if(v[M]=="immediately")Q();
else if(a(window)[v[M]])a(window)[v[M]](Q);else a(window).bind(v[M],Q)}return g}});l.when("A","jQuery","ImageBlockBTF","a-modal").register("immersiveView",function(h,a,l,i){var b,c;function d(){var b=O?10:15,f=O?"right":"left";u?(w=a('<div id="iv-first-column" style="float: '+f+"; width:"+(a(window).width()-Z-330)+"px;height:100%; margin-left: "+ua+'px;"/>'),b=a('<div width="100%" id="iv-large-image" style="overflow: hidden; width: 100%;align:center; position:relative; top:0px; left:0px;height:100%"/>')):
(w=a('<div id="iv-first-column" style="float: '+f+"; width:"+(a(window).width()-Z-330)+"px;height:100%; margin-right: "+ua+'px;"/>'),b=a('<div width="100%" id="iv-large-image" style="overflow: hidden; width: 100%; height: '+(a(window).height()-ia-b)+'px;align:center; position:relative; top:0px; left:0px;"/>'));n=a("<div></div>").attr("id","iv-large-video").css({overflow:"hidden",width:"100%",height:"100%",align:"center"});ha!=="image"&&b.css("display","none");w.append(b);w.append(n);u?r.find("#IV-Main").append(w):
r.append(w)}function ea(b){a('<style type="text/css">a.iv-title-link:link {text-decoration: none;}a.iv-title-link:visited {text-decoration: none; color: #003399}a.iv-title-link:hover {text-decoration: underline; color: orange;}</style>').appendTo("head");var f;f=u?'<div class="ivTitle" style="cursor:pointer;color: rgb(0, 51, 153);text-align: left; margin-top: 10px; font-family: verdana, arial, helvetica, sans-serif; font-size: 14px; font-weight: bold; word-wrap: break-word; width: 235px;" id="iv-prod-title" title="'+
B+'">'+ca(B,45)+"</div>":'<div style="text-align: left; margin-top: 10px; font-family: verdana, arial, helvetica, sans-serif; font-size: 14px; font-weight: bold; word-wrap: break-word; width: 235px;" id="iv-prod-title" title="'+B+'"><a class="ap_custom_close iv-title-link" href="">'+ca(B,45)+"</a></div>";f=a(f);f.find(".ap_custom_close").click(Q);f.click(function(){u&&aa.hide()});b.append(f)}function j(){if(typeof DetailPage!="undefined"&&DetailPage.StateController){var b='<div style="text-align: left;"  id="iv-variation-selection">',
f=DetailPage.StateController.getState(),d=f.variation_label_order,c;for(c in d){var m=d[c],e=f.selected_variations[m],m=f.variation_display_labels[m];e&&(b+='<div style="padding-top:10px; padding-bottom:3px; font-family: verdana, arial, helvetica, sans-serif; font-size:11px; color:#666">'+m+" : "+e+"</div>")}b+="</div>";return a(b)}}function F(){a("<img>").attr("src",""+V.arrow+"");a("<img>").attr("src",""+V.zoomIn+"");a("<img>").attr("src",""+V.zoomOut+"")}function N(){var b=u&&!da?"right":"left",
f=a('<div style="float: '+b+'; padding-left:30px;" id="iv-sec-column"></div>');if(!O){f=a('<div style="float: '+b+'; width: 235px;" id="iv-sec-column"></div>');ea(f);b=f;v&&(u?b.append(a("<div id='variationalColorWrapper'></div>")):b.append(j()));var b=f,d='<div style="width:235px; border:1px solid #C9E1F4; background-color:#EAF3FD; padding-top: 5px; padding-bottom: 5px; margin-top:15px; display: none" id="iv-tabbing">';d+='<select id="iv_media_select" style="position:relative;left:65px">';d+='<option id="all" value="all" selected>'+
ivStrings.allMedia+"</option>";d+='<option id="images" value="images">'+ivStrings.images+"</option>";d+='<option id="videos" value="videos">'+ivStrings.videos+"</option>";d+="</select>";d+=a.browser.msie?'<span class="swSprite s_boxLeft" style="top: -14px; left: -102px; display: none;"> </span>  <span class="swSprite s_boxRight" style="top: -14px; left: 111px; display: none;"> </span>':'<span class="swSprite s_boxLeft" style="top: -12px; left: -102px; display: none;"> </span>  <span class="swSprite s_boxRight" style="top: -12px; left: 108px; display: none;"> </span>';
d+="</div>";d=a(d);b.append(d)}b=f;d="{ border:1px solid #C9E1F4;width:235px;height:290px;padding-left:15px;padding-top:15px;padding-bottom:15px; overflow-y:auto; border-top:0px;position:relative; top:0px; left:0px; }";O&&(d="{ width:135px;padding-left:15px;padding-top:15px;padding-bottom:15px; overflow-y:auto; position:relative; top:0px; left:0px; }");a('<style type="text/css">.iv_thumbs '+d+".iv_thumb_videos {  border:1px solid #C9E1F4;width:235px;height:230px;padding:0px; overflow-y:auto; border-top:0px; }.iv_thumb_video_outer { float:left; width:100%; padding-top:5px; padding-bottom:5px;cursor:pointer}.iv_thumb_video_outer_hover { background-color: #EAF3FD }.iv_thumb_video { border: 1px solid #ddd;float:left; margin-left:10px;margin-right:10px;cursor:pointer; }.iv_thumb { border: 1px solid #ddd;float:left; margin-right:12px; margin-bottom:20px; cursor:pointer; }.iv_thumb_selected { border: 2px solid #E47911; }.iv_thumb_hover { border: 2px solid #004B91; }.iv_thumb_inner { padding: 1px;float:left; }.iv_thumb_inner_selected { padding: 0px; }.iv_thumb_image { float:left;position:relative;width:50px; height:50px; background-color:#ffffff}.iv_thumb_text { float:left; word-wrap:break-word; width:130px; margin-top:10px; font-family:verdana, arial, helvetica, sans-serif; font-size:11px }.iv_thumb_text_popover { font-family: verdana, arial, helvetica, sans-serif; font-size:11px }.iv_thumb_text_hover { background-color: #EAF3FD }</style>").appendTo("head");
d="<div class='iv_thumbs'>";d+="</div>";d+="<div class='iv_thumb_videos' style='display: none; height: 63px;'>";d+="</div>";d=a(d);b.append(d);F();u?r.find("#IV-Main").append(f):r.append(f)}function H(){a("#addIV-Main").click(function(){a("#iv_media_select").css("visibility","visible")});a(window).resize(function(){pa&&!u&&p()});g()}function g(){a(".iv_thumb").click(function(){a(".iv_thumb").removeClass("iv_thumb_selected");a(".iv_thumb").removeClass("iv_thumb_hover");a(".iv_thumb").find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected");
a(this).addClass("iv_thumb_selected");a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected");a(this).hasClass("iv_type_video")?(y=a(this).attr("id").split("_")[1],A=-1,u&&L.setCurrentVideoSelected(y),X()):(u&&a("#iv-large-video").css("display","none"),A=a(this).attr("id").split("_")[1],y=-1,e())});a(".iv_thumb_video_outer").click(function(){a(".iv_thumb_video").removeClass("iv_thumb_selected");a(".iv_thumb_video").removeClass("iv_thumb_hover");a(".iv_thumb_video").find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected");
a(this).find(".iv_thumb_video").addClass("iv_thumb_selected");a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected");y=a(this).attr("id").split("_")[1];A=-1;X()});a(".iv_thumb").mouseover(function(){$&&$.close();a(this).hasClass("iv_thumb_selected")||(a(this).addClass("iv_thumb_hover"),a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected"));if(a(this).hasClass("iv_type_video")){var b=Number(a(this).attr("id").split("_")[1]);if(!(b>=R.length)){var b=R[b],b="<span class='iv_thumb_text_popover'><b>"+
b.title+"</b><br>"+b.durationTimestamp+"</span>",f=a(this).offset().left-a(".iv_thumbs").offset().left<=30?-27:-50,d=-11;a.browser.msie&&parseInt(a.browser.version)==6&&(d=-16);$=a.AmazonPopover.displayPopover({literalContent:b,width:180,location:["top"],locationElement:this,locationAlign:"middle",locationOffset:[f,d],zIndex:1E3,hoverShowDelay:300,hoverHideDelay:300,showCloseButton:!1,attached:!0,modal:!1});a.browser.msie&&parseInt(a.browser.version)==6?$.find(".ap_footer").find(".ap_middle").css({position:"relative",
height:"30px",width:"112px",top:"-2px",background:"url("+V.arrow+") -343px -40px"}):$.find(".ap_footer").find(".ap_middle").css({position:"relative",height:"30px",width:"112px",top:"-3px",background:"url("+V.arrow+") -343px -43px"})}}});a(".iv_thumb_video_outer").mouseover(function(){a(this).addClass("iv_thumb_video_outer_hover");a(this).find(".iv_thumb_text").addClass("iv_thumb_text_hover");a(this).find(".iv_thumb_video").hasClass("iv_thumb_selected")||(a(this).find(".iv_thumb_video").addClass("iv_thumb_hover"),
a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected"))});a(".iv_thumb").mouseout(function(){a(this).hasClass("iv_thumb_selected")||(a(this).removeClass("iv_thumb_hover"),a(this).find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected"));$&&$.close()});a(".iv_thumb_video_outer").mouseout(function(){a(this).removeClass("iv_thumb_video_outer_hover");a(this).find(".iv_thumb_text").removeClass("iv_thumb_text_hover");a(this).find(".iv_thumb_video").hasClass("iv_thumb_selected")||(a(this).find(".iv_thumb_video").removeClass("iv_thumb_hover"),
a(this).find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected"))});a("#ap_container").keydown(function(a){if(a.keyCode==37||a.keyCode==38||a.keyCode==39||a.keyCode==40||a.keyCode==33||a.keyCode==34)return!1})}function Q(){if(s&&!s.isDetached())ka.volume=s.getVolume(),s.detach(),document.all&&!window.atob&&!document.addEventListener&&(s=null)}function e(){function b(){va=!1;c.css("visibility","hidden");c.empty();c.animate({opacity:1},200);c.append(d);z();t=!1;ja[d.attr("src")]=1}s&&s.hide();
a("#iv-large-image").css("display","block");var f="";k&&k[v]&&k[v].images&&(f=k[v].images.zoomImages[A]);if(f){u?a(".fullScreen").length&&a(".fullScreen").remove():r.find(".fullScreen")&&r.find(".fullScreen").remove();T="<img src='"+f+"'class='fullScreen'/>";var d=a("<img>").attr("src",f);d.addClass("fullScreen");var c=a("#iv-large-image");c.animate({opacity:0.4},200,function(){d.load(function(){b()});a(T).load(function(){b()});if(ja[d.attr("src")])b();else{va=!0;c.empty();var f=(w.height()-ta)/2,
m=(w.width()-wa)/2;a("#iv-large-image").append("<img src='"+V.spinner+"' style='position:relative;top:"+f+"px;left:"+m+"px;' />")}});d.load(function(){ja[d.attr("src")]=1;J()});a(T).load(function(){ja[d.attr("src")]=1;J()})}}function z(){qa=!1;var b=a("#iv-large-image"),f=b.width(),d=b.height(),b=a("#iv-large-image").find(".fullScreen");b.removeAttr("style");var c=E=b.width();x=b.height();c=c>x?c:x;if(b.length>0){if(b[0].naturalWidth)E=b[0].naturalWidth,c=c>E?c:E;if(b[0].naturalHeight)x=b[0].naturalHeight,
c=c>x?c:x}w.css({cursor:"auto"});c>=1E3&&(a.browser.mozilla?w.css({cursor:"-moz-zoom-in"}):w.css({cursor:"url('"+V.zoomIn+"'), auto"}));E=E==0?1:E;x=x==0?1:x;var m=Math.min(f/E,d/x),c=x*m;m*=E;b.css("height",c<x?c-20:x);b.css("width",Math.min(m,E));f=(f-b.width())/2;d=(d-b.height())/2;b.css("margin-top",d);b.css("margin-left",f);a("#iv-large-image").css("visibility","visible")}function J(){for(var b=-3;b<=3;b++){var f=parseInt(A)+b;if(!(f<0))if((f=k&&k[A]?k[A].images.zoomImages[f]:"")&&ja[f]==void 0)a("<img>").attr("src",
f).load(function(){ja[a(this).attr("src")]=1});else if(!f)break}}function p(){var b=a(window).height()-ia,f=a(window).width()-Z;if(u&&aa){a("#IV-Main").css({display:"block"});var f=aa.$container.find(".a-popover-wrapper").height(),b=aa.$container.find(".a-popover-inner"),b=parseInt(b.css("padding-top"))+parseInt(b.css("padding-bottom")),d=aa.$container.find(".a-popover-header").height();f-=b+d;a("#IV-Main").css({height:f+"px"});a("#iv-large-image").css({height:f+"px"});var b=a("#iv-prod-title").outerHeight(!0),
d=a("#iv-tabbing").outerHeight(!0),c=a("#iv-variation-selection").outerHeight(!0),b=f-(b+d+c);a(".iv_thumbs").css({height:b+"px"});a(".iv_thumb_videos").css({height:b+"px"});f=aa.$container.find(".a-popover-inner").width();b=parseInt(a("#IV-Main").css("padding-left"))+parseInt(a("#IV-Main").css("padding-right"));d=a("#iv-sec-column").width();a("#iv-first-column").css({width:f-(b+d+ua+G)+"px"})}else b>230&&(a("#IV-Main").css({height:b+"px"}),a("#iv-large-image").css({height:b-15+"px"}),b-=oa,a(".iv_thumbs").css({height:b+
"px"}),a(".iv_thumb_videos").css({height:b+sa+"px"})),f>500&&(a("#IV-Main").parents(".ap_popover").css({width:f+"px"}),b=O?250:330,a("#iv-first-column").css({width:f-b+"px"}));y||z()}function o(b){b=q({left:C.left-(b.pageX-D[0])*I,top:C.top-(b.pageY-D[1])*I});(u?a(".fullScreen"):r.find(".fullScreen")).css({left:b.left,top:b.top})}function q(a){if(b>0)a.left=b/2;else if(a.left<b)a.left=b;else if(a.left>0)a.left=0;if(c>0)a.top=c/2;else if(a.top<c)a.top=c;else if(a.top>0)a.top=0;return a}function K(){var b=
0;if(k&&k[v]&&k[v].images&&k[v].images.thumbnails)b=k[v].images.thumbnails.length;var f=R?R.length:0,d=a(".iv_thumbs"),c=a("#iv-tabbing");if(b==0||f==0)c.hide(),d.css({"margin-top":"15px","border-top":"1px solid #C9E1F4"});else{var m=a("#iv_media_select");m.find("#all").text(ivStrings.allMedia+" ("+(b+f)+")");m.find("#videos").remove();m.find("#images").remove();m.append('<option id="images" value="images">'+ivStrings.images+" ("+b+")</option>");m.append('<option id="videos" value="videos">'+ivStrings.videos+
" ("+f+")</option>");c.show();d.css({"margin-top":"0px","border-top":"0px"});m.val("all");fa()}}function fa(){a("#iv_media_select").change(function(){a(this).val()=="all"?(a(".iv_thumb_videos").hide(),a(".iv_thumbs").show(),a(".iv_type_video").show(),A>=0?(y=-1,a("#ivimage_"+A).click()):y>=0&&(A=-1,a("#ivvideo_"+y).click())):a(this).val()=="images"?(a(".iv_thumb_videos").hide(),a(".iv_thumbs").show(),a(".iv_type_video").hide(),y=-1,A>=0?a("#ivimage_"+A).click():(A=0,a("#ivimage_0").click())):a(this).val()==
"videos"&&(a(".iv_thumb_videos").show(),a(".iv_thumbs").hide(),A=-1,y>=0?a("#ivvideolist_"+y).click():(y=0,a("#ivvideolist_0").click()))})}function W(){var b="";a.each(R||[],function(a,f){b+="<div class='iv_thumb_video_outer' id='ivvideolist_"+a+"'>";b+="<div class='iv_thumb_video'>";b+="<div class='iv_thumb_inner'>";b+="<div class='iv_thumb_image' style=\"background:url("+f.thumbUrl+') center no-repeat">';b+="</div>";b+="</div>";b+="</div>";b+="<div class='iv_thumb_text'><b>"+f.title+"</b><br>"+
f.durationTimestamp+"<div style='clear:both'></div></div>";b+="</div>"});a(".iv_thumb_videos").html(b)}function S(){var b;if(k&&k[v])b=k[v].images.thumbnails;var f="",d=0,c=b?b.length:0;c+=(R||[]).length;if(b)for(var m=b.length,e=0;e<m;e++){d%3==0&&(f+="<div style='height:75px;'>");f+="<div class='iv_thumb' id='ivimage_"+e+"'>";f+="<div class='iv_thumb_inner'>";f+="<div class='iv_thumb_image' style=\"background:url("+la(b[e])+') center no-repeat">';f+="</div>";f+="</div>";f+="</div>";if((d+1)%3==
0||d==c-1)f+="</div>";d++}a.each(R||[],function(a,b){d%3==0&&(f+="<div style='height:75px;'>");f+="<div class='iv_thumb iv_type_video' id='ivvideo_"+a+"'>";f+="<div class='iv_thumb_inner'>";f+="<div class='iv_thumb_image' style=\"background:url("+b.thumbUrl+') center no-repeat">';f+="</div>";f+="<div id='data_ivvideo_"+a+"' value='"+b.mediaObjectId+"' />";f+="</div>";f+="</div>";if((d+1)%3===0||d===c-1)f+="</div>";d++});a(".iv_thumbs").html(f)}function X(){if(y){u&&a("#iv-large-video").css("display",
"block");a("#iv-large-image").css("display","none").empty();var b=R[y];s?(s.isDetached()&&s.attach(n[0]),L.loadMediaIntoAiryAndSetVolume(s,b,ka),s.show()):(s=L.embedAiryForChromefulPlayback(n,b,ka,"ImmersiveView"),ka.enableContinuousPlay&&s.bind("ended",Y));s.play({isAsync:!0})}}function Y(){var b=parseInt(y)+1;b>=R.length||a("#ivvideo_"+b).click()}function la(a){var a=a.replace(/'/g,"").replace("._SL75_","").replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,""),a=a.replace(/\._(US)\d+_/,
"").replace(/\._SR\d+,\d+_/,""),b=a.lastIndexOf(".");return a=a.substring(0,b)+"._AA50_"+a.substring(b)}function ga(){Q();a("#iv-large-image").empty();a(document.body).css("overflow","auto");a("#ap_container").unbind("keydown");pa=!1;ha!="image"&&M&&a("#altImages").find(".a-button-selected").mouseenter()}function na(){pa=!0;a(document.body).css("opacity","");var b=document.body.style;a.browser.msie&&b&&b.filter==""&&b.removeAttribute("filter");b=a("body").scrollTop()+28+"px";O&&(a("body").css("overflow",
"hidden"),b=a(document).scrollTop()+"px",a(".ap_closetext").css("font-size","16px"));a("#IV-Main").parents(".ap_popover").css({top:b});A>=0?a("#ivimage_"+A).click():y>=0?a("#ivvideo_"+y).click():a("#ivimage_0").click();p()}function ca(a,b){var f=a=new String(a);if(a.length>b){try{for(var d=-1,c=0;c<a.length;c++){var m=a.charAt(c);if(m==" "||m=="."||m=="?"||m==";"||m==","||m==":")d=c;if(c==b-4){f=a.substring(0,d==-1?c:d);break}}}catch(e){f=a.substring(0,b-3)}f+="..."}return f}var B,k,y,A,v,M=0,ha,
r,L,V,Z=42,ia=125,oa=210,sa=30,pa=!1,$,ja={},ta=104,wa=80,w,va=!1,qa=!1,E,x,C={left:0,top:0};b=void 0;c=void 0;var T,D=[0,0],I=4,t=!1,n,R=[],s,ka,aa,ma,O=!1,u,ua=15,G=20,da;this.iVController=function(b,d,c,e,g,ya,ba){u=ya;da=ba;if(!(b==null||d==null||c==null)||u)if(L||(L=c),Aa(d,g)){ma||(ma=e);if(O=d.showBiggerImmersiveView)Z=0,ia=50,oa=110;xa()?(f(b,d),r&&r.remove(),m()):(U(b),a("#iv_media_select").val("all"),a(".iv_thumb_videos").hide(),a(".iv_thumbs").show(),a(".iv_type_video").show());u?($dom=
a("#auiImmersiveViewDiv"),c=a(window).height()-ia,e=a(window).width()-Z,aa=i.create($dom,{name:"immersiveView",activate:"onclick",width:e,height:c,popoverLabel:"ImmersiveView"}),h.on("a:popover:afterShow:immersiveView",function(){f(b,d);K();S();W();H();a("#variationalColorWrapper").html(j());na()}),h.on("a:popover:afterHide:immersiveView",function(){ga()}),h.on("a:popover:afterUpdatePosition:immersiveView",function(){p()})):a.AmazonPopover.displayPopover(Ba())}};var U=function(b){var f;if(b&&b.action==
"thumb-action")f=b.data;else if(b&&b.action=="main-image-click"||u)if(b=a("altImages,.a-button-selected"),b!=null&&b.parent()!=null&&b.parent().data()!=null)f=b.parent().data().thumbAction;f==null&&(f={thubnailIndex:0,type:"image",index:0});M=f.thumbnailIndex;ha=f.type;ha=="image"||ha=="ingress"?(A=f.index,y=-1):(A=-1,y=f.index)},xa=function(){if(v)if(ra()){if(typeof DetailPage!="undefined"&&DetailPage.StateController&&L.getColorFromState(DetailPage.StateController.getState().selected_variations)==
v)return!1}else return!1;return!0},ra=function(){return typeof ra!="undefined"&&ra?!0:!1},f=function(a,b){U(a);v=ba(b);k=ya(b.colorImages);window.ivStrings=b.staticStrings;B=b.title;V=b.staticImages;ka=b.airyConfig;R=L.getVideos(v)||R},m=function(){r=u?a('<div class = "a-popover-preload" id="a-popover-immersiveView"><div style="display:none;height:'+(a(window).height()-ia)+'px; width:100%; padding: 0px 15px 15px 15px;" id="IV-Main"></div></div>'):a('<div style="display:none;height:'+(a(window).height()-
ia)+'px; width:100%; padding: 0px 15px 15px 15px;" id="IV-Main"></div>');da?(N(),d()):(d(),N());u?r.find("#IV-Main").append('<div style="clear:both"/>'):r.append('<div style="clear:both"/>');a("#imageBlock_feature_div").before(r);r.find("#iv-large-image").click(function(f){if(!t&&!va)if(qa)z();else if(C=q(C),E>=1E3||x>=1E3)w.find("#iv-large-image").empty().append(T),(u?a(".fullScreen"):r.find(".fullScreen")).load(function(){if(E>=1E3||x>=1E3){a.browser.mozilla?w.css({cursor:"-moz-zoom-out"}):w.css({cursor:"url('"+
V.zoomOut+"'), auto"});qa=!0;var d=w.find("#iv-large-image"),m=u?a(".fullScreen"):r.find(".fullScreen");E=m.width();x=m.height();b=w.width()-E;c=w.height()-x;var m=w.height()/2,e=w.width()/2;D=[d.offset().left+e,d.offset().top+m];C.top=m-x/2;C.left=e-E/2;w.find(".fullScreen").css({position:"relative",left:C.left,top:C.top});I=Math.max(x/w.height(),E/w.width());I=Math.max(I,4)}o(f)})});r.find("#iv-first-column").mousemove(function(a){qa&&o(a)});F();O||K();S();W();H();u||p()},ya=function(b){var f={};
a.each(b,function(d){f[d]={images:{thumbnails:a.map(b[d],function(a){return a.thumb}),zoomImages:a.map(b[d],function(a){return a.hiRes||a.large||a.main[a.main.length-1]})}}});return f},Aa=function(a,b){var f=ba(a);return a.colorImages&&a.colorImages[f]&&a.colorImages[f].length>0&&(a.useIV||b||u)?!0:!1},ba=function(a){var b=null;typeof DetailPage!="undefined"&&DetailPage.StateController&&(b=L.getColorFromState(DetailPage.StateController.getState().selected_variations));return b=b||a.defaultColor},
Ba=function(){var b="close",f=l.staticStrings;f&&f.close&&(b=f.close);var f=O?a(window).width():a(window).width()-Z,d=O?{left:0,top:0}:{left:20,top:28};return{localContent:"#IV-Main",width:f,location:function(){return d},zIndex:999,paddingLeft:0,paddingRight:0,paddingBottom:0,closeText:b,modal:!0,group:"ImmersiveView",onShow:na,onHide:ga}};return this});l.when("ImageBlockBTF").execute(function(h){h=h.airyConfig;l.load.js(h.jsUrl);h.cssUrl&&l.load.css(h.cssUrl)});l.when("A","jQuery","imageBlockUtils",
"ImageBlockATF","ImageBlockBTF","immersiveView","imageBlockLogger","Airy").register("imageBlockMain",function(h,a,za,i,b,c){if(b&&b.colorImages&&i&&i.colorImages)b.colorImages.initial=i.colorImages.initial,b.colorImages[b.landingAsinColor]=i.colorImages.initial;if(b&&b.heroImage&&i&&i.heroImage)b.heroImage.initial=i.heroImage.initial,b.heroImage[b.landingAsinColor]=i.heroImage.initial;if(b&&b.colorImages&&i&&i.colorToAsin&&i.colorToAsin.initial&&i.colorToAsin.initial[0])b.initialColorToAsinMap=i.colorToAsin.initial[0].main;
b.holderRatio=b&&i.holderRatio?i.holderRatio:1;b.holderMaxHeight=i.holderMaxHeight;b.useStretchyImageFix=i.useStretchyImageFix;new function(b,ea){var j,F,N,H,g;function Q(){h.declarative("thumb-action",["click",aa?"":"mouseenter"],ga);h.declarative("thumb-action",["mouseleave"],Y);h.declarative("main-image-click",["click"],ja);h.declarative("main-image-click",["mouseenter","mouseleave"],X);h.declarative("main-video-click",["click"],function(a){h.trigger("mainVideoClick",a)});if(b.burjImageBlock)h.on("Burj.ImageBlock.resizeImageBlockEvent",
p)}function e(){var a=DetailPage.StateController.getState();if((a=n.getColorFromState(a.selected_variations))&&a!="")S(a),n.setLandingColor(a);h.on("image-block-twister-swatch-hover",y);h.on("image-block-twister-swatch-click",A);h.on("image-block-video-fetch-completed",fa)}function z(){n.resizeHappened();p();if(t.length&&b.burjImageBlock){var a=J();a&&typeof a!="undefined"&&(a.xPos&&typeof a.xPos!="undefined"?t.css({"background-position":a.xPos+"px "+a.yPos+"px"}):t.css({"background-position":"center "+
a.yPos+"px"}),t.css({"background-size":a.width+"px "+a.height+"px","max-width":a.width+"px","min-height":a.height+"px",filter:"","-ms-filter":""}))}}function J(f){if(b.burjImageBlock){if(!f||typeof f=="undefined"){var c=r(j);if(c==-1)return;f=a.map(c.main,function(a,b){return b})[0];f=c.main[f]}c=V(f);f=L(c[0],f);return{height:c[1],width:c[0],xPos:f,yPos:75}}}function p(f){var c=D.find(".item .imgTagWrapper"),e=n.getMainBlockHeight();f&&typeof f!=="undefined"&&typeof f.maxImgBlockHeight!=="undefined"&&
n.setMaxImageHeight(f.maxImgBlockHeight);var g=n.getMaxDimensionsOfMainImage();e>0&&(I.height(e),c.height(e));D.find("img.a-dynamic-image").each(function(){var f=a(this);if(f.data("a-manual-replacement")){var c=n.loadDynamicImage(this);c&&f.attr("src",c)}var m;b.useStretchyImageFix?(m=f.data("a-dynamic-image"),c=n.getMaxHeightOfMainImage(m),m=n.getMaxWidthOfMainImage(m)):(c=I.height(),m=I.width());g&&typeof g!=="undefined"&&(m=Math.min(g[0],m),c=Math.min(g[1],c));f.attr("style","max-height: "+c+"px; max-width: "+
m+"px;")});w()}function o(){var b=I.height(),c=0,d=0;a.each(R,function(a,b){var f=b[0],e=b[1];f>d&&(d=f,c=e)});b=Math.min(b,c)}function q(f,c,e,g,h){var j=s.find(".template").clone().removeClass("template").addClass("item"),i=a("<img />").attr("src",c.thumb);b.autoplayVideo&&h?f=="chromeless-video"&&j.find(".a-button").addClass("a-button-selected").addClass("a-button-focus"):g==F&&j.find(".a-button").addClass("a-button-selected").addClass("a-button-focus");j.find(".placeHolder").replaceWith(i);j.find(".a-declarative").attr("data-thumb-action",
'{"index":"'+e+'", "thumbnailIndex":"'+g+'", "type": "'+f+'", "variant": "'+c.variant+'"}');return j}function K(a,b,c,d){var e=s.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item");e.find("#altIngressText").append(b+"+");e.find(".a-declarative").attr("data-thumb-action",'{"index":"'+c+'", "thumbnailIndex":"'+d+'", "type": "'+a+'", "variant": ""}');return e}function fa(f,m,e){s.find(".item").remove();var g=0,ba=C[f],i=n.getVideos(f),k=i.length>
0&&b.alwaysIncludeVideo?1:0;if(T&&(f=T[f]))f=q("hero-image",f,g,g,m),s.append(f),g++;ba&&a.each(ba,function(a,f){if(g>=b.maxAlts-k)return N===a&&h.trigger("image-block-select-thumbnail",s.find("img:first")),!1;var c=q("image",f,a,g,m);s.append(c);g++});a.each(i,function(a,f){if(g>=b.maxAlts)return!1;if(b.thumbExperimentEnabledValue!==1)f.thumb=b.staticImages.videoThumbIcon;var c=ka?q("chromeless-video",f,a,g,m):q("chromeful-video",f,a,g);s.append(c);g++});ba=C[j].length+i.length;b.useAltIngress&&
b.maxAlts<ba&&((!e||C[j].length<=b.maxAlts)&&l.when("postMetric").execute(function(a){a.postCountMetric("ccx-altIngress-shown")}),s.append(K("ingress",ba-b.maxAlts,0,g)));b.isAUIPopoverEnabled&&c.iVController(null,b,n,O,void 0,b.isAUIPopoverEnabled,b.thumbnailLeftAlignmentEnabled);l.when("ready").execute(function(){u&&W()})}function W(){var b=a("#altImages .a-declarative");a.each(b,function(b,f){var c=a(f).data("thumb-action");a.isEmptyObject(c)||(c.type==="image"&&B(j,c.type,c.index,c.thumbnailIndex),
ua&&c.thumbnailIndex==="1"&&h.trigger("softlinesPreloadedCanvasItems"))});u&&l.when("postMetric").execute(function(a){a.postCountMetric("softlinesPreloadingDone")})}function S(a,b,c,d,e){a&&(j=a);b&&(H=b);typeof c!=="undefined"&&(N=c);typeof d!=="undefined"&&(F=d);e&&(g=e)}function X(b){var c=!1;b.type=="mouseenter"&&(c=!0);var d,b=a("altImages,.a-button-selected");if(b!=null&&b.parent()!=null&&b.parent().data()!=null)d=b.parent().data().thumbAction;d&&typeof d.index!=="undefined"&&typeof d.thumbnailIndex!==
"undefined"&&d.type&&n.setImageCaption(j,d.type,d.index,d.thumbnailIndex,0,c)}function Y(a){(a=a.data)&&typeof a.index!=="undefined"&&typeof a.thumbnailIndex!=="undefined"&&a.type&&n.setImageCaption(j,a.type,a.index,a.thumbnailIndex);b.burjImageBlock&&ga(xa)}function la(){b.useIV&&D.css("cursor","pointer")}function ga(f){var c=f.data;if(!c)return-1;oa();if(c.type==="ingress")return f.type==="click"&&(l.when("postMetric").execute(function(a){a.postCountMetric("ccx-altIngress-clicked")}),ta(f,!0)),
-1;if(c.index==null||c.thumbnailIndex==null||c.type==null)return-1;na(f);var e=f.$declarativeParent.find(".a-button");if(!b.burjImageBlock||b.burjImageBlock&&f.type==="click")s.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus"),a(e).addClass("a-button-selected").addClass("a-button-focus");e=B(j,c.type,c.index,c.thumbnailIndex);if(e!==-1){G&&!(c.type==="chromeless-video"||c.type==="chromeful-video")&&ca();if(b.burjImageBlock&&f.type==="click"||b.burjImageBlock&&!ra)xa=
f,ra=!0;k(e);e=!0;ma&&(e=ma=!1);n.setImageCaption(j,c.type,c.index,c.thumbnailIndex,0,e);S(j,c.type,c.index,c.thumbnailIndex,c.variant);z();f.type==="click"&&!b.notThumbnailClickImmersiveView&&ta(f)}else n.showUnavailableExp();h.trigger("image-block-thumbnail-selected",c)}function na(a){var b=a.data;l.when("postMetric").execute(function(c){c.postCountMetric(b.type+"ThumbnailSelected");var d=b.variant;b.type==="image"&&d!==null&&(c.postCountMetric("ImageThumbnailSelectedVariant:"+d),d.indexOf("IG")===
0&&(c.postCountMetric("IGImageSelectedVariant:"+d),c.postCountMetric("IGImageSelectedEvent:"+a.type)))})}function ca(){G&&(G.hide(),U.parent().css("z-index",-1),a("#video-canvas-caption").hide(),la())}function B(f,c,e,g){var h;c==="chromeless-video"?n.getVideos(j)[e]==null?h=-1:(f=ia(f,e,g),G&&G.play(),h=f):c==="chromeful-video"?(f=n.getVideos(j)[e])?(c=b.holderRatio||1,e=n.getMaxDimensionsOfMainImage(),g=parseInt(f.videoWidth,10),h=parseInt(f.videoHeight,10),U.parent().css("z-index",2),h!=0&&g!=
0&&(g/=h,e&&typeof e!=="undefined"&&(c=I.width()/I.height()),c>g?U.css("width",g/c*100+"%"):U.css("height",c/g*100+"%")),b.useIV&&D.css("cursor","default"),G?(G.show(),a("#video-canvas-caption").show(),n.loadMediaIntoAiryAndSetVolume(G,f,da)):(G=n.embedAiryForChromefulPlayback(U,f,da),f=a("#image-canvas-caption").clone().attr("id","video-canvas-caption"),f.appendTo(U),f.find("#canvasCaption").html(b.staticStrings.playVideo)),h=U):h=-1:c==="hero-image"?h=sa(f,e,g):D.find(".item.itemNo"+g).length>0?
h=D.find(".item.itemNo"+g):c=="image"&&(h=pa(f,e,g));return h}function k(a,b){if(a==null)return-1;D.find("li").removeClass("selected");n.hideUnavailableExp();if(!a.hasClass("fullImage")){t.length&&t.addClass("hide-background");var c=I.css("height");c!=null&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");b||w()}}function y(a,c,e){var d;oa();ma=!0;ca();a=(a=e?e:n.getColorFromState(c.getState().hovered_variations))&&a!=""?a:b.defaultColor;d=(c=n.getColorFromState(c.getState().selected_variations))&&
c!=""?c:b.defaultColor,c=d;if(c==j&&j==a)b.isSwatchHoverConsistent?h.trigger("image-block-select-thumbnail",s.find("img:eq("+F+")")):h.trigger("image-block-select-thumbnail",s.find("img:first"));else{c=!1;if(b.isSwatchHoverConsistent)if(H==="hero-image")e=ha(a),g===e.variant&&(c=!0);else var e=a,i=v(e,g),e=i===-1?M(e,0):M(e,i);else e=M(a,0);if(e==-1)if(r(a)!=-1)e=ha(a),k(t,!0),c=1;else{c=D.find(".item.itemNo0");k(c);n.showUnavailableExp(a);return}c||(a=D.find(".swatchHoverExp"),c=$(e),a.find("img"),
a.find(".imgTagWrapper").html(c),n.loadImageManually(a.find(".a-dynamic-image")),k(a,!0))}}function A(a,c,e,h){oa();ma=!0;a=(a=h?h:n.getColorFromState(c.getState().selected_variations))&&a!=""?a:b.defaultColor;if(a==j)typeof e=="function"&&e();else{var h=a,i="image",k=0,l=0,c="MAIN";if(H==="hero-image")r(h)!==-1&&(i="hero-image",c=g);else{var o=v(h,g);o!==-1&&(l=k=o,c=g);r(h)!==-1&&l++}h=i;i=c;h==="hero-image"?(t.hasClass("twisted")||t.addClass("twisted"),c=sa(a,k,l,e)):c=pa(a,k,l,e);if(c==-1)if(i=
r(a),i!=-1)c=sa(a,k,l,e),h="hero-image",i=i.variant,l=0;else{n.showUnavailableExp(a);return}S(a,h,k,l,i);wa();D.find(".list .item").remove();t.length&&H!=="hero-image"&&t.addClass("twisted");c.hasClass("fullImage")||D.find(".list").append(c);w();fa(a)}}function v(b,c){if(C.length<1)return-1;if(!C[b])return-1;if(!c)return-1;var d=-1;a.each(C[b],function(a,b){b.variant===c&&(d=a)});return d}function M(b,c){return C.length<1?-1:!C[b]?-1:!C[b][c]?-1:!C[b][c].main?-1:a.map(C[b][c].main,function(a,b){return b}).length<
1?-1:C[b][c]}function ha(b){var c=r(b);if(c==-1)return M(b,0);b=a.map(c.main,function(a,b){return b})[0];Z(b,c.main[b]);t.addClass("twisted");t.hasClass("hide-background")&&t.removeClass("hide-background");return c}function r(b){return T.length<1?-1:!T[b]?-1:!T[b].main?-1:a.map(T[b].main,function(a,b){return b}).length<1?-1:T[b]}function L(a,c){var e;if(b.burjImageBlock){var g=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=b.heroFocalPoint;if(h&&typeof h!="undefined"){e=
Math.max((g-Math.min(1500,a))/2,0);var i=Math.max((g-a)/2,0);e-=i;g=Math.max(Math.min(g,1500),1024);e=e+(g-420-23)/2-a/c[0]*h}}return e}function V(a){var c;if(b.burjImageBlock){c=a[0];a=a[1];if((window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)<=768)c*=0.7,a*=0.7;else{var e=((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,e=Math.max(Math.min(e,1),0);c*=0.7+0.3*e;a*=0.7+0.3*e}c=[c,a]}return c}function Z(a,c){if(t.length&&
a&&c){var e=c[0],g=c[1];t.css({"background-image":'url("'+a+'")'});if(b.burjImageBlock){var h=J(c);if(h&&typeof h!="undefined")e=h.width,g=h.height,h.xPos&&typeof h.xPos!="undefined"?t.css({"background-position":h.xPos+"px "+h.yPos+"px"}):t.css({"background-position":"center "+h.yPos+"px"})}t.css({"background-size":e+"px "+g+"px","max-width":e+"px","min-height":g+"px",filter:"","-ms-filter":""})}}function ia(a,b){var c=n.getVideos(j)[b];if(!c)return-1;var d=D.find(".chromeless-video");if(d.hasClass(n.VIDEO_UNSUPPORTED_CLASS_NAME))return n.flashNotInstalled&&
D.find(".noFlash").removeClass("a-hidden"),d;if(G)return G.show(),n.loadMediaIntoAiryAndSetVolume(G,c,da),d;G=n.embedAiryForChromelessPlayback(U,c,da,s,O,d);return d}function oa(){n.flashNotInstalled&&D.find(".noFlash").addClass("a-hidden")}function sa(b,c,d,e){b=r(b);if(b==-1)return-1;var g=a.map(b.main,function(a,b){return b})[0],h=b.main[g];t.hasClass("twisted")?(n.loadImageAsynchronously(g,function(){typeof e==="function"&&e()}),Z(g,h),t.removeClass("twisted"),t.hasClass("hide-background")&&t.removeClass("hide-background")):
t.hasClass("loaded")?t.removeClass("hide-background"):n.loadImageAsynchronously(g,function(){Z(g,h);t.addClass("loaded")});return t}function pa(a,b,c,d){a=M(a,b);if(a==-1)return-1;c=D.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+c+" maintain-height");d=$(a,!1,d);c.find(".placeHolder").replaceWith(d);D.find(".list").append(c);n.loadImageManually(c.find(".a-dynamic-image"));return c}function $(c,e,g){var h,i,j="",j=n.getMaxDimensionsOfMainImage();
a.each(c.main,function(a,c){h||(h=a);b.shouldApplyResizeFix?c[1]>0&&parseFloat(c[0]/c[1])<parseFloat(b.holderRatio)&&!i?i="a-stretch-vertical":i||(i="a-stretch-horizontal"):c[1]>0&&parseFloat(c[0]/c[1])<=parseFloat(b.holderRatio)&&!i?i="a-stretch-vertical":i||(i="a-stretch-horizontal")});var k=" a-dynamic-image ";k+=e?"slateImage":i;var l;b.useStretchyImageFix?(e=n.getMaxHeightOfMainImage(c.main),l=n.getMaxWidthOfMainImage(c.main)):(e=I.height(),l=I.width());j&&typeof j!=="undefined"&&(l=Math.min(j[0],
l),e=Math.min(j[1],e));j="max-height: "+e+"px; max-width: "+l+"px;";e=a("<div />");e.attr({"data-a-dynamic-image":JSON.stringify(c.main),"data-old-hires":c.hiRes,"class":k,"data-a-manual-replacement":"true",style:j,onload:typeof g!="undefined"?g:""});return e}function ja(b){a("input#show-immersive-view-on-softlines").val()=="true"&&E.count("SoftlinesImmersiveViewOnPC",(E.count("SoftlinesImmersiveViewOnPC")||0)+1);ta(b)}function ta(e,g){if(b.useIV||g){if(G)da.volume=G.getVolume(),G.pause();b.isAUIPopoverEnabled?
a("#auiImmersiveViewDiv").click():c.iVController(e,b,n,O,g,b.isAUIPopoverEnabled)}}function wa(){x&&(x.destroy(),x=void 0)}function w(){b.useHoverZoom&&l.when("imageMagnifier").execute(function(){var a={adjustment:[0,0,1,1],generalImageUrls:b.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:190,useHoverZoomIpad:b.useHoverZoomIpad,useHoverZoom:b.useHoverZoom,logMetrics:null,isUDP:b.isUDP,burjImageBlock:b.burjImageBlock,useClickZoom:b.useClickZoom,zoomOutIcon:b.staticImages.zoomOutCur,
isHoverZoomShawdowEnabled:b.isHoverZoomShawdowEnabled,isHoverZoomEnhancedShadowEnabled:b.isHoverZoomEnhancedShadowEnabled};wa();var c=D.find(".image.item.selected img[data-old-hires]").not("[data-old-hires='']");c.length>0&&(b.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(b){x=c.amazonMagnifier(a);x.engageMagnifier(b,!0)}),qa?c.css("cursor",'url("'+b.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in"))):
x=c.amazonMagnifier(a))})}var va=navigator.userAgent.match(/cloud9|android|silk-accelerated/i),qa=navigator.userAgent.match(/msie|trident/i);b.useHoverZoom=b.useHoverZoom&&!va;var E=window.ue,x;j=b.defaultColor;H="image";N=0;F=0;g="MAIN";var C=b.colorImages,T=b.heroImage,D=a("#imageBlock .canvas"),I=a("#main-image-container"),t=a("#heroImage"),n=ea.init(b),R=b.mainImageSizes,s=a("#imageBlock #altImages ul"),ka=b.useChromelessVideoPlayer,aa=navigator.userAgent.match(/ipad/i),ma=!0,O=new window.ImageBlockclientLogger("ImageBlockUDP",
!0),u=i.preloadingMainBlockForSoftlines&&i.preloadingMainBlockForSoftlines===!0,ua=i.isAltImageAutoCycleEnabled&&i.isAltImageAutoCycleEnabled===!0,G,da=b.airyConfig,U=function(){var b=a("<div></div>").attr("id","main-video-container"),c=a("<div></div>").attr("id","video-outer-container");b.prependTo(c);return ka?b:b.addClass("chromeful-container")}(),xa,ra=!1;b.isDebug&&window.console&&console.log(b);(function(){U.parent().prependTo(I);Q();l.when("dpf").execute(e);typeof amznJQ!=="undefined"&&amznJQ.available("dpf",
e);a(window).resize(z);h.on("image-block-select-thumbnail",function(a){a&&(a.length<=0||(aa?a.click():a.mouseover()))});fa(j,!0);o();b.autoplayVideo?h.trigger("image-block-select-thumbnail",s.find("img:last")):h.trigger("image-block-select-thumbnail",s.find("img:first"));la()})()}(b,za)});l.now().register("postMetric",function(){return{postCountMetric:function(h){if(typeof h!=="undefined"){var a=window.ue;if(a){var l=a.count(h)||0;a.count(h,l+1)}}}}})})})(function(){var l=window.AmazonUIPageJS||P,
h=l.attributeErrors;return h?h("ImageBlockJSAssets"):l}());